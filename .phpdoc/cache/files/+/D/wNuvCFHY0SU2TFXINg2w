1677293902
waR3U4bTeM%3A828e0013b8f3bc1bb22b4f57172b019d-0ff04e3570073b11d71f3faa91f61f9e
s:22008:"TzozMzoicGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlIjoxNDp7czo0MzoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBkb2NCbG9jayI7TjtzOjM5OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAGhhc2giO3M6MzI6IjBmZjA0ZTM1NzAwNzNiMTFkNzFmM2ZhYTkxZjYxZjllIjtzOjM5OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAG5hbWUiO3M6OToiaW5kZXgucGhwIjtzOjM5OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAHBhdGgiO3M6OToiaW5kZXgucGhwIjtzOjQxOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAHNvdXJjZSI7czoxNTYyMDoiPD9waHAKZXJyb3JfcmVwb3J0aW5nKEVfQUxMKTsKaW5pX3NldCgnZGlzcGxheV9lcnJvcnMnLCAnb24nKTsKc2Vzc2lvbl9zdGFydCgpOwpyZXF1aXJlKCJtb2RlbC9iZGQucGhwIik7CnJlcXVpcmVfb25jZSgibW9kZWwvbWFuYWdlcnMvcHJvZmVzc2V1ck1hbmFnZXIucGhwIik7CnJlcXVpcmVfb25jZSgibW9kZWwvbWFuYWdlcnMvc2VhbmNlTWFuYWdlci5waHAiKTsKcmVxdWlyZV9vbmNlKCJtb2RlbC9tYW5hZ2Vycy9pbnN0cnVtZW50TWFuYWdlci5waHAiKTsKcmVxdWlyZV9vbmNlKCJtb2RlbC9tYW5hZ2Vycy9hZGhlcmVudE1hbmFnZXIucGhwIik7CnJlcXVpcmVfb25jZSgibW9kZWwvbWFuYWdlcnMvaW5zY3JpcHRpb25NYW5hZ2VyLnBocCIpOwpyZXF1aXJlX29uY2UoIm1vZGVsL21hbmFnZXJzL3VzZXJNYW5hZ2VyLnBocCIpOwoKCgokbGVQRE8gPSBldGFibGlyQ254KCk7IC8vIHVuIG9iamV0IFBETyBwcmVzZW50ZSBsYSBmdW5jdGlvbiBkZSBsYSBjb25uZXhpb24KCgoKaWYgKCFpc3NldCgkX0dFVFsnYWN0aW9uJ10pKSB7CiAgICAkYWN0aW9uID0gImxvZ2luIjsKfSBlbHNlIHsKICAgICRhY3Rpb24gPSBmaWx0ZXJfdmFyKCRfR0VUWydhY3Rpb24nXSwgRklMVEVSX1NBTklUSVpFX0ZVTExfU1BFQ0lBTF9DSEFSUyk7Cn0KCmluY2x1ZGUgInZpZXcvaGVhZGVyLnBocCI7CgoKLy8gaWYgKGVtcHR5KCRfU0VTU0lPTlsncm9sZSddKSB8fCAkX1NFU1NJT05bJ3JvbGUnXSAhPSAiZW1wbG95ZXIiKSB7CgovLyAgICAgaGVhZGVyKCJsb2NhdGlvbjouLz9hY3Rpb249bG9naW4iKTsKCi8vICAgICB9ZWxzZXsKLy8gICAgICAgICBoZWFkZXIoImxvY2F0aW9uOi4vP2FjdGlvbj1sb2dpbiIpOwovLyAgICAgfQoKc3dpdGNoICgkYWN0aW9uKSB7CgogICAgY2FzZSAibG9naW4iOgogICAgICAgIHJlcXVpcmUgInZpZXcvbG9naW4ucGhwIjsKICAgIGJyZWFrOwoKICAgICAKICAgIGNhc2UgInRyYWl0ZW1lbnRMb2dpbiI6CiAgICAgIC8vICB2YXJfZHVtcCgkX1BPU1QpO2V4aXQ7CgogICAgICAgICAgICBpZiAoaXNzZXQoJF9QT1NUWydlbWFpbCddLCAkX1BPU1RbJ21kcCddKSkgewogICAgICAgICAgICAgICAgaWYgKCFlbXB0eSgkX1BPU1RbJ2VtYWlsJ10pICYmICFlbXB0eSgkX1BPU1RbJ21kcCddKSkgewoKICAgICAgICAgICAgICAgICAgICAkZW1haWwgICAgICAgPSB0cmltKGZpbHRlcl92YXIoJF9QT1NUWydlbWFpbCddLCBGSUxURVJfU0FOSVRJWkVfRlVMTF9TUEVDSUFMX0NIQVJTKSk7CiAgICAgICAgICAgICAgICAgICAgJG1kcCAgICAgICAgID0gdHJpbShmaWx0ZXJfdmFyKCRfUE9TVFsnbWRwJ10sIEZJTFRFUl9TQU5JVElaRV9GVUxMX1NQRUNJQUxfQ0hBUlMpKTsKICAgIAogICAgICAgICAgICAgICAgICAgIC8vb24gdmVyaWZpZSBsYSB2YWxpZGF0aW9uIGRlIGwnZW1haWwKICAgICAgICAgICAgICAgICAgICBpZiAoIWZpbHRlcl92YXIoJGVtYWlsLCBGSUxURVJfVkFMSURBVEVfRU1BSUwpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRfU0VTU0lPTlsiZXJyb3IiXSA9ICJFcnJldXIgLSBMJ2VtYWlsIG4nZXN0IHBhcyB2YWxpZGUpIjsKICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyKCdMb2NhdGlvbjouLz9hY3Rpb249bG9naW4nKTsKICAgICAgICAgICAgICAgICAgICAgICAgZXhpdDsKICAgICAgICAgICAgICAgICAgICB9CiAgICAKICAgICAgICAgICAgICAgICAgICAvLyBuZXR0b3lhZ2UgZGUgbCdlbWFpbAogICAgICAgICAgICAgICAgICAgICRlbWFpbCAgPSBmaWx0ZXJfdmFyKCRlbWFpbCwgRklMVEVSX1NBTklUSVpFX0VNQUlMKTsKICAgIAogICAgICAgICAgICAgICAgICAgIC8vRm9ybWF0ZXIgbGUgbm9tIGV0IGxlIHByw6lub20gcHJvcHJlbWVudAogICAgICAgICAgICAgICAgICAgICRlbWFpbCAgICA9IHN0cnRvbG93ZXIoJGVtYWlsKTsKCiAgICAgICAgICAgICAgICAgICAgJHVzZXIgPSBuZXcgVXNlck1hbmFnZXIoJGxlUERPKTsKICAgICAgICAgICAgICAgICAgICAkaXNVc2VyID0gJHVzZXItPmdldFVzZXJCeUVtYWlsQW5kUGFzc3dvcmQoJGVtYWlsLCAkbWRwKTsKCiAgICAgICAgICAgICAgICAgICAgaWYgKCRpc1VzZXIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbl91bnNldCgpOwogICAgICAgICAgICAgICAgICAgICAgICAkX1NFU1NJT05bJ2lkJ10gICAgICA9ICRpc1VzZXItPmdldElkVXNlcigpOwogICAgICAgICAgICAgICAgICAgICAgICAkX1NFU1NJT05bIm5vbSJdICAgICA9ICRpc1VzZXItPmdldE5vbSgpOwogICAgICAgICAgICAgICAgICAgICAgICAkX1NFU1NJT05bInByZW5vbSJdICA9ICRpc1VzZXItPmdldFByZW5vbSgpOwogICAgICAgICAgICAgICAgICAgICAgICAkX1NFU1NJT05bImVtYWlsIl0gICA9ICRpc1VzZXItPmdldEVtYWlsKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICRfU0VTU0lPTlsicm9sZSJdICAgID0gJGlzVXNlci0+Z2V0Um9sZSgpOwoKICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyKCdMb2NhdGlvbjouLz9hY3Rpb249YWNjdWVpbCcpOwogICAgICAgICAgICAgICAgICAgICAgICBleGl0OwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRfU0VTU0lPTlsiZXJyb3IiXSA9ICJFcnJldXIgLSBMJ2VtYWlsIGV0L291IG1vdCBkZSBwYXNzZSBpbmNvcnJlY3QiOwogICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXIoJ0xvY2F0aW9uOi4vP2FjdGlvbj1sb2dpbicpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgJF9TRVNTSU9OWydlcnJvciddID0gIk1lcmNpIGRlIHJlbXBsaXIgdG91cyBsZXMgY2hhbXBzIjsKICAgICAgICAgICAgICAgICAgICBoZWFkZXIoImxvY2F0aW9uOi4vP2FjdGlvbj1sb2dpbiIpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgJF9TRVNTSU9OWydlcnJvciddID0gIlVuZSBlcnJldXIgZXN0IHN1cnZlbnVlLCBNZXJjaSBkZSByZXNzYXllciI7CiAgICAgICAgICAgICAgICBoZWFkZXIoImxvY2F0aW9uOi4vP2FjdGlvbj1sb2dpbiIpOwogICAgICAgICAgICB9CiAgICAgICAgCiAgICAgICAgCiAgICBicmVhazsKCiAgICAgICAgCiAgICAvLyBpZiAoZW1wdHkoJF9TRVNTSU9OWydyb2xlJ10pIHx8ICRfU0VTU0lPTlsncm9sZSddICE9ICJlbXBsb3llciIpIHsKICAgIC8vICAgICBoZWFkZXIoImxvY2F0aW9uOi4vP2FjdGlvbj1sb2dpbiIpOwogICAgLy8gfSBlbHNlaWYgKCRfU0VTU0lPTlsncm9sZSddID09ICJlbXBsb3llciIpIHsKICAgIC8vICAgICByZXF1aXJlKCdpbmRleC5waHAnKTsKICAgIC8vIH0gZWxzZSB7CiAgICAvLyAgICAgaGVhZGVyKCJsb2NhdGlvbjouLz9hY3Rpb249bG9naW4iKTsKICAgIC8vIH0KICAgIAoKICAgIGNhc2UgImFjY3VlaWwiOgogICAgICAgIHJlcXVpcmUgInZpZXcvYWNjdWVpbC5waHAiOwogICAgICAgIGJyZWFrOwoKICAgIGNhc2UgInZvaXJJbnN0cnVtZW50cyI6CgogICAgICAgICRzZWFuY2VNYW5hZ2VyICAgICAgPSAgbmV3IFNlYW5jZU1hbmFnZXIoJGxlUERPKTsKICAgICAgICAkQWxsU2VhbmNlcyAgICAgICAgID0gICRzZWFuY2VNYW5hZ2VyLT5nZXRBbGxTZWFuY2VzKCk7CgogICAgICAgICRwcm9mZXNzZXVyTWFuYWdlciAgPSAgbmV3IFByb2Zlc3NldXJNYW5hZ2VyKCRsZVBETyk7CiAgICAgICAgJEFsbFByb2Zlc3NldXJzICAgICA9ICAkcHJvZmVzc2V1ck1hbmFnZXItPmdldEFsbFByb2Zlc3NldXJzKCk7CgogICAgICAgICRpbnN0cnVtZW50TWFuYWdlciAgPSAgbmV3IEluc3RydW1lbnRNYW5hZ2VyKCRsZVBETyk7CiAgICAgICAgJEFsbEluc3RydW1lbnRzICAgICA9ICAkaW5zdHJ1bWVudE1hbmFnZXItPmdldEFsbEluc3RydW1lbnRzKCk7CiAgICAgICAgcmVxdWlyZSAidmlldy92b2lySW5zdHJ1bWVudHMucGhwIjsKICAgICAgICBicmVhazsKCgogICAgY2FzZSAidm9pckluc2NyaXB0aW9uc1BhclNlYW5jZSI6CiAgICAgICAgJGlkU2VhbmNlICAgICAgICAgICA9ICBmaWx0ZXJfdmFyKCRfR0VUWydpZFNlYW5jZSddLCBGSUxURVJfU0FOSVRJWkVfRlVMTF9TUEVDSUFMX0NIQVJTKTsKICAgICAgICAkc2VhbmNlTWFuYWdlciAgICAgID0gIG5ldyBTZWFuY2VNYW5hZ2VyKCRsZVBETyk7CiAgICAgICAgJHNlYW5jZSAgICAgICAgICAgICA9ICRzZWFuY2VNYW5hZ2VyLT5nZXRTZWFuY2VCeUlkKCRpZFNlYW5jZSk7CgogICAgICAgICRpZEluc3RydW1lbnQgICAgICAgPSAkc2VhbmNlLT5nZXRJZEluc3RydW1lbnQoKTsKICAgICAgICAkaW5zdHJ1bWVudE1hbmFnZXIgID0gIG5ldyBJbnN0cnVtZW50TWFuYWdlcigkbGVQRE8pOwogICAgICAgICRpbnN0cnVtZW50ICAgICAgICAgPSAgJGluc3RydW1lbnRNYW5hZ2VyLT5nZXRJbnN0cnVtZW50QnlJZCgkaWRJbnN0cnVtZW50KTsKCiAgICAgICAgJGluc2NyaXB0aW9uTWFuYWdlciA9ICBuZXcgSW5zY3JpcHRpb25NYW5hZ2VyKCRsZVBETyk7CiAgICAgICAgJEFsbEluc2NyaXB0aW9uc0J5U2VhbmNlICAgID0gJGluc2NyaXB0aW9uTWFuYWdlci0+Z2V0QWxsSW5zY3JpcHRpb25zQnlJZFNlYW5jZSgkaWRTZWFuY2UpOwogICAgICAKICAgICAgICAkYWRoZXJlbnRNYW5hZ2VyICAgID0gIG5ldyBBZGhlcmVudE1hbmFnZXIoJGxlUERPKTsKCiAgICAgICAgcmVxdWlyZSAidmlldy92b2lySW5zY3JpcHRpb25zUGFyU2VhbmNlLnBocCI7CiAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgImFkaGVyZW50UGFyU2VhbmNlIjoKCiAgICAgICAgICAgICRpbnN0cnVtZW50TWFuYWdlciAgPSAgbmV3IEluc3RydW1lbnRNYW5hZ2VyKCRsZVBETyk7CiAgICAgICAgICAgICRBbGxJbnN0cnVtZW50cyAgICAgPSAkaW5zdHJ1bWVudE1hbmFnZXItPmdldEFsbEluc3RydW1lbnRzKCk7CiAgICAgICAgICAgICRzZWFuY2VNYW5hZ2VyICAgICAgPSAgbmV3IFNlYW5jZU1hbmFnZXIoJGxlUERPKTsKICAgICAgICAgICAgJEFsbFNlYW5jZXMgICAgICAgICA9ICRzZWFuY2VNYW5hZ2VyLT5nZXRBbGxTZWFuY2VzKCk7CgogICAgICAgICAgICByZXF1aXJlICJ2aWV3L2FkaGVyZW50UGFyU2VhbmNlLnBocCI7CiAgICAgICAgICAgIGJyZWFrOwoKICAgIGNhc2UgImluc2NyaXB0aW9uIjoKCiAgICAgICAgJGFkaGVyZW50TWFuYWdlciAgICAgICA9ICBuZXcgQWRoZXJlbnRNYW5hZ2VyKCRsZVBETyk7CiAgICAgICAgJEFsbEFkaGVyZW50cyAgICAgICAgICA9ICAkYWRoZXJlbnRNYW5hZ2VyLT5nZXRBbGxBZGhlcmVudHMoKTsKCiAgICAgICAgJGluc3RydW1lbnRNYW5hZ2VyICAgICA9ICBuZXcgSW5zdHJ1bWVudE1hbmFnZXIoJGxlUERPKTsKICAgICAgICAkc2VhbmNlTWFuYWdlciAgICAgICAgID0gIG5ldyBTZWFuY2VNYW5hZ2VyKCRsZVBETyk7CiAgICAgICAgJF9TRVNTSU9OWydpZFNlYW5jZSddICA9IGZpbHRlcl92YXIoJF9HRVRbJ2lkU2VhbmNlJ10sIEZJTFRFUl9TQU5JVElaRV9GVUxMX1NQRUNJQUxfQ0hBUlMpOwogICAgICAgICRpZFNlYW5jZSAgICAgICAgICAgICAgPSAgJF9TRVNTSU9OWydpZFNlYW5jZSddOwogICAgICAgICRzZWFuY2UgICAgICAgICAgICAgICAgPSAgJHNlYW5jZU1hbmFnZXItPmdldFNlYW5jZUJ5SWQoJGlkU2VhbmNlKTsKICAgICAgICAkaWRJbnN0cnVtZW50ICAgICAgICAgID0gICRzZWFuY2UtPmdldElkSW5zdHJ1bWVudCgpOwogICAgICAgICRpbnN0cnVtZW50ICAgICAgICAgICAgPSAgJGluc3RydW1lbnRNYW5hZ2VyLT5nZXRJbnN0cnVtZW50QnlJZCgkaWRJbnN0cnVtZW50KTsKICAgICAgICAKICAgICAgICByZXF1aXJlICJ2aWV3L2Zvcm1JbnNjcmlwdGlvbi5waHAiOwogICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlICJpbnNjcmlwdGlvbjIiOgoKICAgICAgICAgICAgJGFkaGVyZW50TWFuYWdlciAgICAgICA9ICBuZXcgQWRoZXJlbnRNYW5hZ2VyKCRsZVBETyk7CiAgICAgICAgICAgICRBbGxBZGhlcmVudHMgICAgICAgICAgPSAgJGFkaGVyZW50TWFuYWdlci0+Z2V0QWxsQWRoZXJlbnRzKCk7CgogICAgICAgICAgICAkaW5zdHJ1bWVudE1hbmFnZXIgICAgID0gIG5ldyBJbnN0cnVtZW50TWFuYWdlcigkbGVQRE8pOwogICAgICAgICAgICAkc2VhbmNlTWFuYWdlciAgICAgICAgID0gIG5ldyBTZWFuY2VNYW5hZ2VyKCRsZVBETyk7CiAgICAgICAgICAgICRpZFNlYW5jZSAgICAgICAgICAgICAgPSAgJF9TRVNTSU9OWydpZFNlYW5jZSddOwogICAgICAgICAgICAkc2VhbmNlICAgICAgICAgICAgICAgID0gICRzZWFuY2VNYW5hZ2VyLT5nZXRTZWFuY2VCeUlkKCRpZFNlYW5jZSk7CiAgICAgICAgICAgICRpZEluc3RydW1lbnQgICAgICAgICAgPSAgJHNlYW5jZS0+Z2V0SWRJbnN0cnVtZW50KCk7CiAgICAgICAgICAgICRpbnN0cnVtZW50ICAgICAgICAgICAgPSAgJGluc3RydW1lbnRNYW5hZ2VyLT5nZXRJbnN0cnVtZW50QnlJZCgkaWRJbnN0cnVtZW50KTsKCiAgICAgICAgICAgIHJlcXVpcmUgInZpZXcvZm9ybUluc2NyaXB0aW9uMi5waHAiOwogICAgICAgICAgICBicmVhazsKCiAgICBjYXNlICJ0cmFpdGVtZW50LWluc2NyaXB0aW9uIjoKCiAgICAgICAgJGNob2l4ID0gJF9SRVFVRVNUWyJjaG9peCJdIDsKCiAgICAgICAgJGluc2NyaXB0aW9uID0gYXJyYXkoKTsKCiAgICAgICAgICAgIHN3aXRjaCAoJGNob2l4KSB7CgogICAgICAgICAgICAgICBjYXNlIDE6CgogICAgICAgIGlmICgkX1NFUlZFUlsiUkVRVUVTVF9NRVRIT0QiXSAhPT0gIlBPU1QiKSB7CiAgICAgICAgICAgICRfU0VTU0lPTlsnZXJyb3InXSA9ICJVbmUgZXJyZXVyIGVzdCBzdXJ2ZW51ZSA6IGxhIG1ldGhvZGUgUE9TVCBlc3QgYXR0ZW5kdSI7CiAgICAgICAgICAgIGhlYWRlcigibG9jYXRpb246Li8/YWN0aW9uPUluc2NyaXB0aW9uIik7CiAgICAgICAgfQoKICAgICAgICBpZiAoaXNzZXQoJF9QT1NUWydhZGhlcl9ub20nXSwgJF9QT1NUWydhZGhlcl9wcmVub20nXSwgJF9QT1NUWydhZGhlcl9lbWFpbCddLCAkX1BPU1RbJ2FkaGVyX3RlbCddLCAkX1BPU1RbJ2FkaGVyX2lkU2VhbmNlJ10pKSB7CiAgICAgICAgICAgIC8vIHZhcl9kdW1wKCRfUE9TVCk7ZXhpdDsKICAgICAgICAgICAgaWYgKCFlbXB0eSgkX1BPU1RbJ2FkaGVyX2lkU2VhbmNlJ10pICYmICFlbXB0eSgkX1BPU1RbJ2FkaGVyX25vbSddKSAmJiAhZW1wdHkoJF9QT1NUWydhZGhlcl9wcmVub20nXSkgJiYgIWVtcHR5KCRfUE9TVFsnYWRoZXJfZW1haWwnXSkgJiYgIWVtcHR5KCRfUE9TVFsnYWRoZXJfdGVsJ10pKSB7CgogICAgICAgICAgICAgICAgLy8gTmV0dG95YWdlIGRlcyBjYXJhY3TDqHJlcyBIVE1MIGV0IGNyw6lhdGlvbiBkZXMgdmFyaWFibGVzCgogICAgICAgICAgICAgICAgJGFkaGVyX25vbSAgICAgICA9IHRyaW0oZmlsdGVyX3ZhcigkX1BPU1RbJ2FkaGVyX25vbSddLCBGSUxURVJfU0FOSVRJWkVfRlVMTF9TUEVDSUFMX0NIQVJTKSk7CiAgICAgICAgICAgICAgICAkYWRoZXJfcHJlbm9tICAgID0gdHJpbShmaWx0ZXJfdmFyKCRfUE9TVFsnYWRoZXJfcHJlbm9tJ10sIEZJTFRFUl9TQU5JVElaRV9GVUxMX1NQRUNJQUxfQ0hBUlMpKTsKICAgICAgICAgICAgICAgICRhZGhlcl9lbWFpbCAgICAgPSB0cmltKGZpbHRlcl92YXIoJF9QT1NUWydhZGhlcl9lbWFpbCddLCBGSUxURVJfU0FOSVRJWkVfRlVMTF9TUEVDSUFMX0NIQVJTKSk7CiAgICAgICAgICAgICAgICAkYWRoZXJfdGVsICAgICAgID0gdHJpbShmaWx0ZXJfdmFyKCRfUE9TVFsnYWRoZXJfdGVsJ10sIEZJTFRFUl9TQU5JVElaRV9GVUxMX1NQRUNJQUxfQ0hBUlMpKTsKICAgICAgICAgICAgICAgICRhZGhlcl9pZFNlYW5jZSAgPSB0cmltKGZpbHRlcl92YXIoJF9QT1NUWydhZGhlcl9pZFNlYW5jZSddLCBGSUxURVJfU0FOSVRJWkVfRlVMTF9TUEVDSUFMX0NIQVJTKSk7CgogICAgICAgICAgICAgICAgLy9vbiB2ZXJpZmllIGxhIHZhbGlkYXRpb24gZGUgbCdlbWFpbAogICAgICAgICAgICAgICAgaWYgKCFmaWx0ZXJfdmFyKCRhZGhlcl9lbWFpbCwgRklMVEVSX1ZBTElEQVRFX0VNQUlMKSkgewogICAgICAgICAgICAgICAgICAgICRfU0VTU0lPTlsiZXJyb3IiXSA9ICJFcnJldXIgLSBMJ2VtYWlsIG4nZXN0IHBhcyB2YWxpZGUpIjsKICAgICAgICAgICAgICAgICAgICBoZWFkZXIoJ0xvY2F0aW9uOi4vP2FjdGlvbj1pbnNjcmlwdGlvbicpOwoKICAgICAgICAgICAgICAgICAgICBleGl0OwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC8vIG5ldHRveWFnZSBkZSBsJ2VtYWlsCiAgICAgICAgICAgICAgICAkYWRoZXJfZW1haWwgID0gZmlsdGVyX3ZhcigkYWRoZXJfZW1haWwsIEZJTFRFUl9TQU5JVElaRV9FTUFJTCk7CgogICAgICAgICAgICAgICAgLy9Gb3JtYXRlciBsZSBub20gZXQgbGUgcHLDqW5vbSBwcm9wcmVtZW50CiAgICAgICAgICAgICAgICAkYWRoZXJfbm9tICAgICAgPSBzdHJ0b3VwcGVyKCRhZGhlcl9ub20pOwogICAgICAgICAgICAgICAgJGFkaGVyX3ByZW5vbSAgID0gIHVjZmlyc3Qoc3RydG9sb3dlcigkYWRoZXJfcHJlbm9tKSk7CiAgICAgICAgICAgICAgICAkYWRoZXJfZW1haWwgICAgPSBzdHJ0b2xvd2VyKCRhZGhlcl9lbWFpbCk7CgogICAgICAgICAgICAgICAgJGFkaGVyZW50TWFuYWdlciA9IG5ldyBBZGhlcmVudE1hbmFnZXIoJGxlUERPKTsKCiAgICAgICAgICAgICAgICAkY2hlY2tBZGhlcmVudCAgID0gJGFkaGVyZW50TWFuYWdlci0+dmVyaWZBZGhlcmVudCgkYWRoZXJfbm9tLCAkYWRoZXJfcHJlbm9tLCAkYWRoZXJfZW1haWwsICRhZGhlcl90ZWwpOwogICAgICAgICAgICAgICAgLy92YXJfZHVtcChjb3VudCgkY2hlY2tBZGhlcmVudCkpO2V4aXQ7CiAgICAgICAgICAgICAgCgogICAgICAgICAgICAgICAgaWYgKCRjaGVja0FkaGVyZW50KSB7CiAgICAgICAgICAgICAgICAgICAgJF9TRVNTSU9OWyJlcnJvcl9hZGhlcmVudF9leGlzdGUiXSA9ICJDZXQgYWRoZXJlbnQgZGVqYSDDqXhpc3RlIC4uLiBNZXLDp2kgZGUgbGUgc8OpbMOpY3Rpb25uZXIgZGUgbGEgbGlzdGUgY2ktZGVzc291cyI7CiAgICAgICAgICAgICAgICAgICAgaGVhZGVyKCJsb2NhdGlvbjogLi8/YWN0aW9uPWluc2NyaXB0aW9uMiIpOwogICAgICAgICAgICAgICAgICAgIGV4aXQ7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICRhZGhlcmVudCA9IG5ldyBBZGhlcmVudCgpOwogICAgICAgICAgICAgICAgICAgICRhZGhlcmVudC0+c2V0Tm9tQWRoZXJlbnQoJGFkaGVyX25vbSk7CiAgICAgICAgICAgICAgICAgICAgJGFkaGVyZW50LT5zZXRQcmVub21BZGhlcmVudCgkYWRoZXJfcHJlbm9tKTsKICAgICAgICAgICAgICAgICAgICAkYWRoZXJlbnQtPnNldE1haWxBZGhlcmVudCgkYWRoZXJfZW1haWwpOwogICAgICAgICAgICAgICAgICAgICRhZGhlcmVudC0+c2V0VGVsQWRoZXJlbnQoJGFkaGVyX3RlbCk7CgogICAgICAgICAgICAgICAgICAgICRhZGRBZGhlcmVudE9rID0gJGFkaGVyZW50TWFuYWdlci0+YWRkQWRoZXJlbnQoJGFkaGVyZW50KTsKCiAgICAgICAgICAgICAgICAgICAgJGluc2NyaXB0aW9uID0gbmV3IEluc2NyaXB0aW9uKCk7CiAgICAgICAgICAgICAgICAgICAgJGxhc3RJZEFkaGVyZW50ID0gJGFkaGVyZW50TWFuYWdlci0+Z2V0TGFzdElkQWRoZXJlbnQoKTsKICAgICAgICAgICAgICAgICAgICAkaW5zY3JpcHRpb24tPnNldElkQWRoZXJlbnQoJGxhc3RJZEFkaGVyZW50KTsKICAgICAgICAgICAgICAgICAgICAkaW5zY3JpcHRpb24tPnNldElkU2VhbmNlKCRhZGhlcl9pZFNlYW5jZSk7CiAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICRpbnNjcmlwdGlvbk1hbmFnZXIgID0gbmV3IEluc2NyaXB0aW9uTWFuYWdlcigkbGVQRE8pOwogICAgICAgICAgICAgICAgICAgICRhZGRJbnNjcmlwdGlvbk9LICAgID0gJGluc2NyaXB0aW9uTWFuYWdlci0+YWRkSW5zY3JpcHRpb24oJGluc2NyaXB0aW9uKTsKCiAgICAgICAgICAgICAgICAgICAgLy8gdmFyX2R1bXAoJGFkZEluc2NyaXB0aW9uT0spO2V4aXQ7CgogICAgICAgICAgICAgICAgICAgIGlmICgkYWRkSW5zY3JpcHRpb25PSykgewogICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyAgICAkX1NFU1NJT05bJ3N1Y2Nlc3MnXSA9ICJMJ2FkaMOpcmVudCBlc3QgaW5zY3JpdCBhdmVjIHN1Y2PDqHMuIjsKICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyKCJsb2NhdGlvbjouLz9hY3Rpb249aW5zY3JpcHRpb25PSyIpOwogICAgICAgICAgICAgICAgICAgICAgICBleGl0OwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRfU0VTU0lPTlsnZXJyb3InXSA9ICJVbmUgZXJyZXVyIGVzdCBzdXJ2ZW51ZSBsb3JzIGRlIGxhIGNyw6lhdGlvbi4iOwogICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXIoImxvY2F0aW9uOi4vP2FjdGlvbj1pbnNjcmlwdGlvbiIpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICRfU0VTU0lPTlsnZXJyb3InXSA9ICJVbmUgZXJyZXVyIGVzdCBzdXJ2ZW51ZSwgTWVyY2kgZGUgcmVtcGxpciBsZXMgY2hhbXBzIHZpZGUiOwogICAgICAgICAgICAgICAgaGVhZGVyKCJsb2NhdGlvbjouLz9hY3Rpb249aW5zY3JpcHRpb24iKTsKICAgICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICRfU0VTU0lPTlsnZXJyb3InXSA9ICJVbmUgZXJyZXVyIGVzdCBzdXJ2ZW51ZSwgTWVyY2kgZGUgcmVzc2F5ZXIiOwogICAgICAgICAgICBoZWFkZXIoImxvY2F0aW9uOi4vP2FjdGlvbj1pbnNjcmlwdGlvbiIpOwogICAgICAgIH0KCiAgICAgICAgYnJlYWsgOwogICAgICAgCiAgICAgICAgY2FzZSAyOgoKICAgICAgICAgICAgJGFkaGVyX2lkU2VhbmNlICA9IHRyaW0oZmlsdGVyX3ZhcigkX1BPU1RbJ2FkaGVyX2lkU2VhbmNlJ10sIEZJTFRFUl9TQU5JVElaRV9GVUxMX1NQRUNJQUxfQ0hBUlMpKTsKICAgICAgICAgICAgJGFkaGVyX2lkICAgICAgICA9IHRyaW0oZmlsdGVyX3ZhcigkX1BPU1RbJ2lkQWRoZXJlbnQnXSwgRklMVEVSX1NBTklUSVpFX0ZVTExfU1BFQ0lBTF9DSEFSUykpOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICRpbnNjcmlwdGlvbiA9IG5ldyBJbnNjcmlwdGlvbigpOwogICAgICAgICAgICAkaW5zY3JpcHRpb24tPnNldElkQWRoZXJlbnQoJGFkaGVyX2lkKTsKICAgICAgICAgICAgJGluc2NyaXB0aW9uLT5zZXRJZFNlYW5jZSgkYWRoZXJfaWRTZWFuY2UpOwogICAgICAgICAgIAogICAgICAgICAgICAkaW5zY3JpcHRpb25NYW5hZ2VyICA9IG5ldyBJbnNjcmlwdGlvbk1hbmFnZXIoJGxlUERPKTsKICAgICAgICAgICAgJGFkZEluc2NyaXB0aW9uT0sgICAgPSAkaW5zY3JpcHRpb25NYW5hZ2VyLT5hZGRJbnNjcmlwdGlvbigkaW5zY3JpcHRpb24pOwoKICAgICAgICAgICAgLy8gdmFyX2R1bXAoJGFkZEluc2NyaXB0aW9uT0spO2V4aXQ7CgogICAgICAgICAgICBpZiAoJGFkZEluc2NyaXB0aW9uT0spIHsKICAgICAgICAgICAgICAgCiAgICAgICAgICAgIC8vICAgICRfU0VTU0lPTlsnc3VjY2VzcyddID0gIkwnYWRow6lyZW50IGVzdCBpbnNjcml0IGF2ZWMgc3VjY8Oocy4iOwogICAgICAgICAgICAgICAgaGVhZGVyKCJsb2NhdGlvbjouLz9hY3Rpb249aW5zY3JpcHRpb25PSyIpOwogICAgICAgICAgICAgICAgZXhpdDsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICRfU0VTU0lPTlsnZXJyb3InXSA9ICJVbmUgZXJyZXVyIGVzdCBzdXJ2ZW51ZSBsb3JzIGRlIGxhIGNyw6lhdGlvbi4iOwogICAgICAgICAgICAgICAgaGVhZGVyKCJsb2NhdGlvbjouLz9hY3Rpb249aW5zY3JpcHRpb24yIik7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAKCiAgICAgICAgYnJlYWs7CgogICAgY2FzZSAiaW5zY3JpcHRpb25PSyI6CiAgICAgICAgICAgIHJlcXVpcmUgInZpZXcvaW5zY3JpcHRpb25PSy5waHAiOwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgCiAgICBjYXNlICJ2b2lyQWRoZXJlbnQiOgogICAgICAgICAgICAkYWRoZXJlbnRNYW5hZ2VyICAgID0gIG5ldyBBZGhlcmVudE1hbmFnZXIoJGxlUERPKTsKICAgICAgICAgICAgJGlkX0FkaGVyZW50ICAgICAgICA9ICBmaWx0ZXJfdmFyKCRfR0VUWydpZCddLCBGSUxURVJfU0FOSVRJWkVfRlVMTF9TUEVDSUFMX0NIQVJTKTsKICAgICAgICAgICAgJHVuQWRoZXJlbnQgICAgICAgICA9ICAkYWRoZXJlbnRNYW5hZ2VyLT5nZXRBZGhlcmVudEJ5SWQoJGlkX0FkaGVyZW50KTsKCiAgICAgICAgICAgICRpbnNjcmlwdGlvbk1hbmFnZXIgPSAgbmV3IEluc2NyaXB0aW9uTWFuYWdlcigkbGVQRE8pOwogICAgICAgICAgICAkdW5lSW5zY3JpcHRpb24gICAgID0gICRpbnNjcmlwdGlvbk1hbmFnZXItPmdldEluc2NyaXB0aW9uQnlJZEFkaGVyZW50KCRpZF9BZGhlcmVudCk7CiAgICAgICAgICAgICRpZF9TZWFuY2UgICAgICAgICAgPSAgJHVuZUluc2NyaXB0aW9uLT5nZXRJZFNlYW5jZSgpOwoKICAgICAgICAgICAgJHNlYW5jZU1hbmFnZXIgICAgICA9ICBuZXcgU2VhbmNlTWFuYWdlcigkbGVQRE8pOwogICAgICAgICAgICAkdW5lU2VhbmNlICAgICAgICAgID0gICRzZWFuY2VNYW5hZ2VyLT5nZXRTZWFuY2VCeUlkKCRpZF9TZWFuY2UpOwoKICAgICAgICAgICAgJGlkX1Byb2YgICAgICAgICAgICA9ICAkdW5lU2VhbmNlLT5nZXRJZFByb2YoKTsKICAgICAgICAgICAgJHByb2Zlc3NldXJNYW5hZ2VyICA9IG5ldyBwcm9mZXNzZXVyTWFuYWdlcigkbGVQRE8pOwogICAgICAgICAgICAkdW5Qcm9mZXNzZXVyICAgICAgID0gJHByb2Zlc3NldXJNYW5hZ2VyLT5nZXRQcm9mZXNzZXVyZUJ5SWQoJGlkX1Byb2YpOwoKICAgICAgICAgICAgJGlkX0luc3RydW1lbnQgICAgICA9ICR1bmVTZWFuY2UtPmdldElkSW5zdHJ1bWVudCgpOwogICAgICAgICAgICAkaW5zdHJ1bWVudE1hbmFnZXIgID0gIG5ldyBJbnN0cnVtZW50TWFuYWdlcigkbGVQRE8pOwogICAgICAgICAgICAkdW5JbnN0cnVtZW50ICAgICAgID0gJGluc3RydW1lbnRNYW5hZ2VyLT5nZXRJbnN0cnVtZW50QnlJZCgkaWRfSW5zdHJ1bWVudCk7CgoKICAgICAgICAgICAgcmVxdWlyZSAidmlldy92b2lyQWRoZXJlbnQucGhwIjsKICAgICAgICAgICAgIGJyZWFrOwoKICAgIGNhc2UgImRlc2Fib25uZV9BZGhlcmVudCI6CgogICAgICAgICAgICAgaWYgKGlzc2V0KCRfUE9TVFsnZGVzYWJvbm5lX2J0biddKSkgewogICAgICAgICAgICAgICAgIGlmIChpc3NldCgkX1BPU1RbJ2Rlc2Fib25uZV9pZCddKSkgewogICAgICAgICAgICAgICAgICAgICAkZGVzYWJvbm5lX2lkICAgICAgICA9ICBmaWx0ZXJfdmFyKCRfUE9TVFsnZGVzYWJvbm5lX2lkJ10sIEZJTFRFUl9TQU5JVElaRV9GVUxMX1NQRUNJQUxfQ0hBUlMpOwoKICAgICAgICAgICAgICAgICAgICAgJGluc2NyaXB0aW9uTWFuYWdlciA9ICBuZXcgSW5zY3JpcHRpb25NYW5hZ2VyKCRsZVBETyk7CiAgICAgICAgICAgICAgICAgICAgICRkZXNhYm9ubmVPayAgICAgPSAgJGluc2NyaXB0aW9uTWFuYWdlci0+ZGVsZXRlSW5zY3JpcHRpb25CeUlkQWRoZXJlbnQoJGRlc2Fib25uZV9pZCk7CiAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICBpZiAoJGRlc2Fib25uZU9rKSB7CiAgICAgICAgICAgICAgICAgICAgICRfU0VTU0lPTlsnc3VjY2VzcyddID0gIkTDqXNhYm9ubsOpIGZhaXRlICBhdmVjIHN1Y2PDqHMiOwogICAgICAgICAgICAgICAgICAgICBoZWFkZXIoImxvY2F0aW9uOi4vP2FjdGlvbj1hZGhlcmVudFBhclNlYW5jZSIpOwogICAgICAgICAgICAgICAgICAgICBleGl0OwogICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICRfU0VTU0lPTlsnZXJyb3InXSA9ICJVbmUgZXJyZXVyIGVzdCBzdXJ2ZW51ZSAiOwogICAgICAgICAgICAgICAgICAgICBoZWFkZXIoImxvY2F0aW9uOi4vP2FjdGlvbj1hZGhlcmVudFBhclNlYW5jZSIpOwogICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICByZXF1aXJlKCd2aWV3L2FkaGVyZW50UGFyU2VhbmNlLnBocCcpOwogICAgICAgICAgICAgfQogICAgCiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSJnZW5QREYiOgogICAgICAgICAgICAgICAgJGFkaGVyZW50TWFuYWdlciAgICA9ICBuZXcgQWRoZXJlbnRNYW5hZ2VyKCRsZVBETyk7CiAgICAgICAgICAgICAgICAkaWRfQWRoZXJlbnQgICAgICAgID0gIGZpbHRlcl92YXIoJF9HRVRbJ2lkJ10sIEZJTFRFUl9TQU5JVElaRV9GVUxMX1NQRUNJQUxfQ0hBUlMpOwogICAgICAgICAgICAgICAgJHVuQWRoZXJlbnQgICAgICAgICA9ICAkYWRoZXJlbnRNYW5hZ2VyLT5nZXRBZGhlcmVudEJ5SWQoJGlkX0FkaGVyZW50KTsKICAgIAogICAgICAgICAgICAgICAgJGluc2NyaXB0aW9uTWFuYWdlciA9ICBuZXcgSW5zY3JpcHRpb25NYW5hZ2VyKCRsZVBETyk7CiAgICAgICAgICAgICAgICAkdW5lSW5zY3JpcHRpb24gICAgID0gICRpbnNjcmlwdGlvbk1hbmFnZXItPmdldEluc2NyaXB0aW9uQnlJZEFkaGVyZW50KCRpZF9BZGhlcmVudCk7CiAgICAgICAgICAgICAgICAkaWRfU2VhbmNlICAgICAgICAgID0gJHVuZUluc2NyaXB0aW9uLT5nZXRJZFNlYW5jZSgpOwogICAgCiAgICAgICAgICAgICAgICAkc2VhbmNlTWFuYWdlciAgICAgID0gIG5ldyBTZWFuY2VNYW5hZ2VyKCRsZVBETyk7CiAgICAgICAgICAgICAgICAkdW5lU2VhbmNlICAgICAgICAgID0gICRzZWFuY2VNYW5hZ2VyLT5nZXRTZWFuY2VCeUlkKCRpZF9TZWFuY2UpOwogICAgCiAgICAgICAgICAgICAgICAkaWRfUHJvZiAgICAgICAgICAgID0gICR1bmVTZWFuY2UtPmdldElkUHJvZigpOwogICAgICAgICAgICAgICAgJHByb2Zlc3NldXJNYW5hZ2VyICA9IG5ldyBwcm9mZXNzZXVyTWFuYWdlcigkbGVQRE8pOwogICAgICAgICAgICAgICAgJHVuUHJvZmVzc2V1ciAgICAgICA9ICRwcm9mZXNzZXVyTWFuYWdlci0+Z2V0UHJvZmVzc2V1cmVCeUlkKCRpZF9Qcm9mKTsKICAgIAogICAgICAgICAgICAgICAgJGlkX0luc3RydW1lbnQgICAgICA9ICR1bmVTZWFuY2UtPmdldElkSW5zdHJ1bWVudCgpOwogICAgICAgICAgICAgICAgJGluc3RydW1lbnRNYW5hZ2VyICA9ICBuZXcgSW5zdHJ1bWVudE1hbmFnZXIoJGxlUERPKTsKICAgICAgICAgICAgICAgICR1bkluc3RydW1lbnQgICAgICAgPSAkaW5zdHJ1bWVudE1hbmFnZXItPmdldEluc3RydW1lbnRCeUlkKCRpZF9JbnN0cnVtZW50KTsKCgogICAgICAgICAgICAgICAgcmVxdWlyZSAiZnBkZi9nZW5wZGYucGhwIjsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgIAoKCiAgICBjYXNlImRlY29ubmV4aW9uIjoKICAgICAgICAKICAgICAgICB1bnNldCgkX1NFU1NJT05bInJvbGUiXSk7CiAgICAgICAgdW5zZXQoJF9TRVNTSU9OWyJlbXBsb3llciJdKTsKICAgICAgICByZXF1aXJlICJ2aWV3L2RlY29ubmV4aW9uLnBocCI7CiAgICAgICAgYnJlYWs7CgoKICAgIGRlZmF1bHQ6CiAgICAgICAgcmVxdWlyZSgidmlldy80MDQucGhwIik7CgogICAgICAgIAp9CgppbmNsdWRlICJ2aWV3L2Zvb3Rlci5waHAiOwoiO3M6NDU6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAbmFtZXNwYWNlcyI7YTowOnt9czo0MzoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBpbmNsdWRlcyI7YTowOnt9czo0NDoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBmdW5jdGlvbnMiO2E6MDp7fXM6NDQ6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAY29uc3RhbnRzIjthOjA6e31zOjQyOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAGNsYXNzZXMiO2E6MDp7fXM6NDU6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAaW50ZXJmYWNlcyI7YTowOnt9czo0MToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQB0cmFpdHMiO2E6MDp7fXM6NDA6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAZW51bXMiO2E6MDp7fXM6NDM6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAbWV0YWRhdGEiO2E6MDp7fX0=";